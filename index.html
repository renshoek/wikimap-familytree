<!DOCTYPE HTML>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta charset="UTF-8">
  <meta name="description" content="Family Tree Visualizer using Wikidata.">
  <title>Family Tree Visualizer</title>

  <script data-skip-dnt="true" async defer src="https://sa.luk.ke/latest.js"></script>
  <noscript><img src="https://sa.luk.ke/noscript.gif?ignore-dnt=true" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shepherd/1.7.0/css/shepherd-theme-arrows.css" type="text/css" />
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" type="text/css" />

  <link rel="stylesheet" href="./css/style.css" type="text/css"/>
  <link rel="stylesheet" href="./css/bar.css" type="text/css"/>
  <link rel="stylesheet" href="./css/buttongroup.css" type="text/css"/>
  <link rel="stylesheet" href="./css/shepherd-custom.css" type="text/css"/>
  <link rel="stylesheet" href="./css/commafield.css" type="text/css"/>
  <link rel="stylesheet" href="./css/welcome.css" type="text/css"/>
  <link rel="stylesheet" href="./css/modals.css" type="text/css"/>
  <link rel="stylesheet" href="./css/progress.css" type="text/css"/>
  <style>#people-mode-container { display: none !important; }</style>
</head>

<body>
  <div id="formbox" class="transparent-blur">
    <div id="input" class="commafield" data-placeholder="Enter a famous person (e.g. Queen Victoria)..."> </div>
    <button id="submit" type="button" title="Search">Go</button>
    <button id="random" type=button title="Random Person"><i class="icon ion-shuffle"></i></button>
    <button id="clear" type="button" title="Clear the tree" style="display: none;"><i class="icon ion-trash-a"></i></button>
  </div>

  <div id="loading" class="loading-hidden"><i class="icon ion-load-c"></i></div>

  <div id="container" class="fullscreen">
    <div id="info" class="transparent-blur">
      <h1>Family Tree Visualizer</h1>
      <p>Explore family connections.</p>
      <div class="controls-guide">
        <ul>
          <li><strong>Parents (▲):</strong> Click to show ancestors.</li>
          <li><strong>Children (▼):</strong> Click the union point between partners.</li>
          <li><strong>Siblings (><):</strong> Hover over a person to see toggle.</li>
        </ul>
      </div>
      <h3>Suggested People <i id="refresh-suggestions" class="icon ion-refresh" style="cursor: pointer;"></i></h3>
      <div id="suggestions" class="suggestion-grid"></div>
    </div>
  </div>

  <button id="debug-trigger" class="debug-btn">Debug Physics</button>

  <div id="debug-panel" class="debug-panel" style="display: none;">
    <div class="debug-header">
        <span>Physics Debugger</span>
        <button id="debug-close" style="background:none; border:none; color:white; font-weight:bold; cursor:pointer;">X</button>
    </div>
    
    <div class="debug-section">
        <label>Gravitational Constant (Repulsion)</label>
        <input type="range" id="opt-gravity" min="-10000" max="-100" step="100">
        <span id="val-gravity"></span>
    </div>

    <div class="debug-section">
        <label>Central Gravity (Pull to Center)</label>
        <input type="range" id="opt-central" min="0" max="1" step="0.01">
        <span id="val-central"></span>
    </div>

    <div class="debug-section">
        <label>Spring Length</label>
        <input type="range" id="opt-springlen" min="50" max="500" step="10">
        <span id="val-springlen"></span>
    </div>

    <div class="debug-section">
        <label>Spring Constant (Stiffness)</label>
        <input type="range" id="opt-springstiff" min="0.001" max="0.2" step="0.001">
        <span id="val-springstiff"></span>
    </div>

    <div class="debug-section">
        <label>Damping (Friction)</label>
        <input type="range" id="opt-damping" min="0" max="1" step="0.01">
        <span id="val-damping"></span>
    </div>

    <div class="debug-section" style="border-top: 1px solid #555; padding-top:10px; margin-top:5px;">
        <label style="color: #ff9;">Layout: Vertical Height</label>
        <input type="range" id="opt-layout-height" min="100" max="400" step="10">
        <span id="val-layout-height"></span>
    </div>

    <div style="margin-top: 15px; text-align: center;">
        <button id="debug-reset" style="background: #d9534f; border:none; color: white; padding: 5px 15px; border-radius: 4px; cursor: pointer;">Reset to Defaults</button>
    </div>
  </div>

  <div class="button-container">
    <button id="btn-physics" title="Toggle Physics (On/Off)"><i class="icon ion-ios-pause"></i></button>
    <button id="btn-pin" title="Pin/Unpin Selected Node"><i class="icon ion-pin"></i></button>
    <button id="btn-delete" title="Delete Selected Node"><i class="icon ion-trash-b"></i></button>
    <button id="btn-settings" title="Settings"><i class="icon ion-gear-a"></i></button>
  </div>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"> </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js"> </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.3/js/tether.min.js"> </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/shepherd/1.7.0/js/shepherd.min.js"> </script>

  <script type="text/javascript" src="./js/wikidata_service.js"></script>
  <script type="text/javascript" src="./js/layout.js"></script>
  
  <script type="text/javascript" src="./js/tree_utils.js"></script>
  <script type="text/javascript" src="./js/tree_elements.js"></script>
  <script type="text/javascript" src="./js/tree_controller.js"></script>
  
  <script type="text/javascript" src="./js/helpers.js"> </script>
  <script type="text/javascript" src="./js/help.js"> </script>
  <script type="text/javascript" src="./js/main.js"> </script>
  <script type="text/javascript" src="./js/network_serialize.js"> </script>
  <script type="text/javascript" src="./js/bindings.js"> </script>
  <script type="text/javascript" src="./js/commafield.js"> </script>
  <script type="text/javascript" src="./js/loadsaved.js"> </script>
  <script type="text/javascript" src="./js/modals.js"> </script>
  <script type="text/javascript" src="./js/progress.js"> </script>

  <script>
    window.onload = function () {
      bind();
      loadSaved();
    };
  </script>
</body>
</html>
